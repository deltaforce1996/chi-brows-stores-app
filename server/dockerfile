# อิมเมจพื้นฐาน node:20 (บรรทัดนี้ถูกคอมเมนต์ออก)
FROM node:20

# กำหนดไดเรกทอรีทำงานเป็น /usr/src/app (บรรทัดนี้ถูกคอมเมนต์ออก)
WORKDIR /usr/src/app

# คัดลอกไฟล์ package*.json (บรรทัดนี้ถูกคอมเมนต์ออก)
COPY package*.json ./
# ติดตั้ง dependencies (บรรทัดนี้ถูกคอมเมนต์ออก)
RUN npm install

# ติดตั้ง bcrypt (บรรทัดนี้ถูกคอมเมนต์ออก - ไม่จำเป็นถ้าอยู่ใน package.json)
RUN npm install bcrypt

# คัดลอกไฟล์ทั้งหมดในโปรเจกต์ (บรรทัดนี้ถูกคอมเมนต์ออก)
COPY . .


# สั่ง build โปรเจกต์ (บรรทัดนี้ถูกคอมเมนต์ออก)
RUN npm run build

# เปิดพอร์ต 3000 (บรรทัดนี้ถูกคอมเมนต์ออก)
EXPOSE 3000

# คำสั่งเริ่มต้นเมื่อ container รัน (บรรทัดนี้ถูกคอมเมนต์ออก)
CMD ["node", "dist/src/main"]
